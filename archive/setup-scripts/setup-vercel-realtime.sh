#!/bin/bash

# Setup Real-time Messaging for Vercel Deployment
# This script provides instructions for enabling real-time features

set -e

echo "üöÄ Setting up Real-time Messaging for Vercel..."
echo ""
echo "üìã Real-time messaging uses Supabase Broadcast (free tier compatible)"
echo ""
echo "‚ö° To enable real-time, you need to:"
echo ""
echo "1Ô∏è‚É£  Go to your Supabase Dashboard:"
echo "    https://app.supabase.com/project/YOUR_PROJECT_ID"
echo ""
echo "2Ô∏è‚É£  Navigate to: Database ‚Üí Replication"
echo ""
echo "3Ô∏è‚É£  Enable real-time for these tables:"
echo "    ‚úì messaging_messages"
echo "    ‚úì messaging_groups"
echo "    ‚úì messaging_group_members"
echo ""
echo "4Ô∏è‚É£  Alternative: Run this SQL in SQL Editor:"
echo ""
echo "-- Enable real-time for messaging tables"
echo "ALTER PUBLICATION supabase_realtime ADD TABLE messaging_messages;"
echo "ALTER PUBLICATION supabase_realtime ADD TABLE messaging_groups;"
echo "ALTER PUBLICATION supabase_realtime ADD TABLE messaging_group_members;"
echo ""
echo "5Ô∏è‚É£  After enabling, your app will have:"
echo "    ‚Ä¢ Instant message delivery"
echo "    ‚Ä¢ Live message updates/edits"
echo "    ‚Ä¢ Real-time message deletion"
echo "    ‚Ä¢ Typing indicators"
echo "    ‚Ä¢ Presence tracking"
echo ""
echo "üìù Note: Real-time uses Supabase Broadcast which works on the free tier!"
echo ""
echo "‚úÖ Once enabled in Supabase, deploy your app with:"
echo "   ./deploy-realtime-chat.sh"
echo ""
